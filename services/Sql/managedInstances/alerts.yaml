- name: avg_cpu_percent
  description: Average CPU percentage
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-3941
  properties:
    metricName: avg_cpu_percent
    metricNamespace: Microsoft.Sql/managedInstances
    severity: 2
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Average
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 80.0
    autoMitigate: false
  references:
  - name: Monitoring Azure SQL Managed Instance data reference
    url: https://learn.microsoft.com/azure/azure-sql/managed-instance/monitoring-sql-managed-instance-azure-monitor-reference?view=azuresql
  - name: Monitoring Microsoft Azure SQL Managed Instance performance using dynamic
      management views
    url: https://learn.microsoft.com/azure/azure-sql/managed-instance/monitoring-with-dmvs?view=azuresql
- name: storage_space_used_mb
  description: Storage space used
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-2440
  properties:
    metricName: storage_space_used_mb
    metricNamespace: Microsoft.Sql/managedInstances
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Average
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 80.0
    autoMitigate: false
  references:
  - name: Monitoring Azure SQL Managed Instance data reference
    url: https://learn.microsoft.com/azure/azure-sql/managed-instance/monitoring-sql-managed-instance-azure-monitor-reference?view=azuresql
  - name: Monitoring Microsoft Azure SQL Managed Instance performance using dynamic
      management views
    url: https://learn.microsoft.com/azure/azure-sql/managed-instance/monitoring-with-dmvs?view=azuresql
