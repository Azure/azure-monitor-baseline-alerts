- name: Requests
  description: Gateway request metrics with multiple dimensions
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-3589
  properties:
    metricName: Requests
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Total
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 1.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: 2e16fd84-d92f-44ee-8191-ff47e90a9526
- name: Capacity
  description: 'Utilization metric for ApiManagement service. Note: For skus other
    than Premium, ''Max'' aggregation will show the value as 0.'
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-3448
  properties:
    metricName: Capacity
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Average
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 80.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: 6b1dd1ae-05de-43d2-bdea-7981c49127fc
- name: BackendDuration
  description: Duration of Backend Requests in milliseconds
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-812
  properties:
    metricName: BackendDuration
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Average
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 10000.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: fd5d63e0-ab2f-4300-af65-05bf2e490d0e
- name: FailedRequests
  description: Number of failures in gateway requests - Use multi-dimension request
    metric with GatewayResponseCodeCategory dimension instead
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-702
  properties:
    metricName: FailedRequests
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Total
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 1.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: 1f8626fe-812a-48a7-b237-2f9181a5ea12
- name: Duration
  description: Overall Duration of Gateway Requests in milliseconds
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-700
  properties:
    metricName: Duration
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Average
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 3000.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: 52cd4aba-4ad0-402a-880d-ba625ebcf37f
- name: UnauthorizedRequests
  description: Number of unauthorized gateway requests - Use multi-dimension request
    metric with GatewayResponseCodeCategory dimension instead
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-522
  properties:
    metricName: UnauthorizedRequests
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT5M
    evaluationFrequency: PT1M
    timeAggregation: Total
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 1.0
    enabled: true
  references:
  - name: Monitoring Azure Application Gateway data reference
    url: https://learn.microsoft.com/azure/application-gateway/monitor-application-gateway-reference
  - name: ApiManagementGatewayLogs
    url: https://learn.microsoft.com/azure/azure-monitor/reference/tables/apimanagementgatewaylogs
  guid: c0c3e784-f488-43a6-a423-18dbb444d443
- name: TotalRequests
  description: Number of gateway requests - Use multi-dimension request metric with
    GatewayResponseCodeCategory dimension instead
  type: Metric
  verified: false
  visible: true
  tags:
  - auto-generated
  - agc-382
  properties:
    metricName: TotalRequests
    metricNamespace: Microsoft.ApiManagement/service
    severity: 3
    windowSize: PT1H
    evaluationFrequency: PT5M
    timeAggregation: Total
    operator: GreaterThan
    criterionType: StaticThresholdCriterion
    threshold: 0.0
    enabled: true
  guid: a9480e7f-1cd0-4c46-b5c4-e7f35fe963a5
